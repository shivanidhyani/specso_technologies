!function(d){"use strict";d.fn.brk_hover3d=function(e,t){var n={movement:{imgWrapper:{translation:{x:10,y:10,z:30},rotation:{x:0,y:-10,z:0},reverseAnimation:{duration:200,easing:"easeOutQuad"}},lines:{translation:{x:10,y:10,z:[0,70]},rotation:{x:0,y:0,z:-2},reverseAnimation:{duration:2e3,easing:"easeOutExpo"}},caption:{rotation:{x:0,y:0,z:2},reverseAnimation:{duration:200,easing:"easeOutQuad"}},overlay:{translation:{x:10,y:-10,z:0},rotation:{x:0,y:0,z:2},reverseAnimation:{duration:2e3,easing:"easeOutExpo"}},shine:{translation:{x:100,y:100,z:0},reverseAnimation:{duration:200,easing:"easeOutQuad"}}}},a={movement:{imgWrapper:{rotation:{x:-10,y:10,z:1},reverseAnimation:{duration:900,easing:"easeOutCubic"}},caption:{translation:{x:20,y:20,z:[0,30]},rotation:{x:[0,15],y:0,z:0},reverseAnimation:{duration:1200,easing:"easeOutExpo"}},overlay:{translation:{x:10,y:10,z:[0,20]},reverseAnimation:{duration:1e3,easing:"easeOutExpo"}},shine:{translation:{x:100,y:100,z:0},reverseAnimation:{duration:900,easing:"easeOutCubic"}}}},i={movement:{imgWrapper:{rotation:{x:-5,y:10,z:0},reverseAnimation:{duration:50,easing:"easeOutQuad"}},caption:{translation:{x:20,y:20,z:0},reverseAnimation:{duration:200,easing:"easeOutQuad"}},overlay:{translation:{x:5,y:-5,z:0},rotation:{x:0,y:0,z:6},reverseAnimation:{duration:1e3,easing:"easeOutQuad"}},shine:{translation:{x:50,y:50,z:0},reverseAnimation:{duration:50,easing:"easeOutQuad"}}}},o={movement:{imgWrapper:{translation:{x:0,y:-8,z:0},rotation:{x:3,y:3,z:0},reverseAnimation:{duration:1200,easing:"easeOutExpo"}},lines:{translation:{x:15,y:15,z:[0,15]},reverseAnimation:{duration:1200,easing:"easeOutExpo"}},overlay:{translation:{x:0,y:8,z:0},reverseAnimation:{duration:600,easing:"easeOutExpo"}},caption:{translation:{x:10,y:-15,z:0},reverseAnimation:{duration:900,easing:"easeOutExpo"}},shine:{translation:{x:50,y:50,z:0},reverseAnimation:{duration:1200,easing:"easeOutExpo"}}}},r={movement:{lines:{translation:{x:-5,y:5,z:0},reverseAnimation:{duration:1e3,easing:"easeOutExpo"}},caption:{translation:{x:15,y:15,z:0},rotation:{x:0,y:0,z:3},reverseAnimation:{duration:1500,easing:"easeOutElastic",elasticity:700}},overlay:{translation:{x:15,y:-15,z:0},reverseAnimation:{duration:500,easing:"easeOutExpo"}},shine:{translation:{x:50,y:50,z:0},reverseAnimation:{duration:500,easing:"easeOutExpo"}}}},s={movement:{imgWrapper:{translation:{x:5,y:5,z:0},reverseAnimation:{duration:800,easing:"easeOutQuart"}},caption:{translation:{x:10,y:10,z:[0,50]},reverseAnimation:{duration:1e3,easing:"easeOutQuart"}},shine:{translation:{x:50,y:50,z:0},reverseAnimation:{duration:800,easing:"easeOutQuart"}}}},l={movement:{lines:{translation:{x:40,y:40,z:0},reverseAnimation:{duration:1500,easing:"easeOutElastic"}},caption:{translation:{x:20,y:20,z:0},rotation:{x:0,y:0,z:-5},reverseAnimation:{duration:1e3,easing:"easeOutExpo"}},overlay:{translation:{x:-30,y:-30,z:0},rotation:{x:0,y:0,z:3},reverseAnimation:{duration:750,easing:"easeOutExpo"}},shine:{translation:{x:100,y:100,z:0},reverseAnimation:{duration:750,easing:"easeOutExpo"}}}};function m(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function u(e,t){this.DOM={},this.DOM.el=e,this.options=m({},this.options),m(this.options,t),this._init()}u.prototype.options={movement:{imgWrapper:{translation:{x:0,y:0,z:0},rotation:{x:-5,y:5,z:0},reverseAnimation:{duration:1200,easing:"easeOutElastic",elasticity:600}},lines:{translation:{x:10,y:10,z:[0,10]},reverseAnimation:{duration:1e3,easing:"easeOutExpo",elasticity:600}},caption:{translation:{x:20,y:20,z:0},rotation:{x:0,y:0,z:0},reverseAnimation:{duration:1500,easing:"easeOutElastic",elasticity:600}},shine:{translation:{x:50,y:50,z:0},reverseAnimation:{duration:1200,easing:"easeOutElastic",elasticity:600}}}},u.prototype._init=function(){this.DOM.animatable={},this.DOM.animatable.imgWrapper=this.DOM.el.querySelector(t.imgWrapper),this.DOM.animatable.lines=this.DOM.el.querySelector(t.lines),this.DOM.animatable.caption=this.DOM.el.querySelector(t.caption),this.DOM.animatable.overlay=this.DOM.el.querySelector(t.overlay),this.DOM.animatable.shine=this.DOM.el.querySelector(t.shine),this._initEvents()},u.prototype._initEvents=function(){var t=this;this.mouseenterFn=function(){for(var e in t.DOM.animatable)anime.remove(t.DOM.animatable[e])},this.mousemoveFn=function(e){requestAnimationFrame(function(){t._layout(e)})},this.mouseleaveFn=function(e){requestAnimationFrame(function(){for(var e in t.DOM.animatable)null!=t.options.movement[e]&&anime({targets:t.DOM.animatable[e],duration:null!=t.options.movement[e].reverseAnimation?t.options.movement[e].reverseAnimation.duration||0:1,easing:null!=t.options.movement[e].reverseAnimation&&t.options.movement[e].reverseAnimation.easing||"linear",elasticity:null!=t.options.movement[e].reverseAnimation&&t.options.movement[e].reverseAnimation.elasticity||null,scaleX:1,scaleY:1,scaleZ:1,translateX:0,translateY:0,translateZ:0,rotateX:0,rotateY:0,rotateZ:0})})},this.DOM.el.addEventListener("mousemove",this.mousemoveFn),this.DOM.el.addEventListener("mouseleave",this.mouseleaveFn),this.DOM.el.addEventListener("mouseenter",this.mouseenterFn)},u.prototype._layout=function(e){var t=function(e){var t=0,n=0;e||(e=window.event);return e.pageX||e.pageY?(t=e.pageX,n=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:t,y:n}}(e),n=document.body.scrollLeft+document.documentElement.scrollLeft,a=document.body.scrollTop+document.documentElement.scrollTop,i=this.DOM.el.getBoundingClientRect(),o=t.x-i.left-n,r=t.y-i.top-a;for(var s in this.DOM.animatable)if(null!=this.DOM.animatable[s]&&null!=this.options.movement[s]){var l=null!=this.options.movement[s]&&this.options.movement[s].translation||{x:0,y:0,z:0},m=null!=this.options.movement[s]&&this.options.movement[s].rotation||{x:0,y:0,z:0},u=function(e){for(var t in e)null==e[t]?e[t]=[0,0]:"number"==typeof e[t]&&(e[t]=[-1*e[t],e[t]])};u(l),u(m);var v={x:(l.x[1]-l.x[0])/i.width*o+l.x[0],y:(l.y[1]-l.y[0])/i.height*r+l.y[0],z:(l.z[1]-l.z[0])/i.height*r+l.z[0]},c={x:(m.x[1]-m.x[0])/i.height*r+m.x[0],y:(m.y[1]-m.y[0])/i.width*o+m.y[0],z:(m.z[1]-m.z[0])/i.width*o+m.z[0]};this.DOM.animatable[s].style.WebkitTransform=this.DOM.animatable[s].style.transform="translateX("+v.x+"px) translateY("+v.y+"px) translateZ("+v.z+"px) rotateX("+c.x+"deg) rotateY("+c.y+"deg) rotateZ("+c.z+"deg)"}};var v=d(this).get();switch(e){case"animation1":for(var c=0;c<v.length;c++)new u(v[c],n);break;case"animation2":for(c=0;c<v.length;c++)new u(v[c],a);break;case"animation3":for(c=0;c<v.length;c++)new u(v[c],i);break;case"animation4":for(c=0;c<v.length;c++)new u(v[c],o);break;case"animation5":for(c=0;c<v.length;c++)new u(v[c],r);break;case"animation6":for(c=0;c<v.length;c++)new u(v[c],s);break;case"animation7":for(c=0;c<v.length;c++)new u(v[c],l);break;default:for(c=0;c<v.length;c++)new u(v[c],n)}for(c=0;c<v.length;c++)v[c].classList.contains("brk_hover3d_1")&&new u(v[c],n),v[c].classList.contains("brk_hover3d_2")&&new u(v[c],a),v[c].classList.contains("brk_hover3d_3")&&new u(v[c],i),v[c].classList.contains("brk_hover3d_4")&&new u(v[c],o),v[c].classList.contains("brk_hover3d_5")&&new u(v[c],r),v[c].classList.contains("brk_hover3d_6")&&new u(v[c],s),v[c].classList.contains("brk_hover3d_7")&&new u(v[c],l);return this},Berserk.behaviors.image_caption_init={attach:function(e,t){if("function"!=typeof d.fn.brk_hover3d||"function"!=typeof anime)return console.log("Waiting for the brk_hover3d && anime library"),void setTimeout(Berserk.behaviors.image_caption_init.attach,t.timeout_delay,e,t);var o={imgWrapper:"",caption:""};d(e).parent().find("[data-brk-hover3d]:not(.rendered)").addClass("rendered").each(function(){var e=d(this),t=e.data("brk-hover3d"),n=e.data("brk-hover3d-animation"),a=d.extend({},o,t),i=n||"animation2";d(this).brk_hover3d(i,a)})}}}(jQuery);