!function(c,w,x){"use strict";function t(e){if(S=w.documentElement,n=w.body,G(),re=this,le=(e=e||{}).constants||{},e.easing)for(var t in e.easing)Y[t]=e.easing[t];de=e.edgeStrategy||"set",ae={beforerender:e.beforerender,render:e.render,keyframe:e.keyframe},(ie=!1!==e.forceHeight)&&(Ie=e.scale||1),se=e.mobileDeceleration||u,fe=!1!==e.smoothScrolling,ue=e.smoothScrollingDuration||p,me={targetTop:re.getScrollTop()},(Me=(e.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||c.opera)})())?((oe=w.getElementById(e.skrollrBody||m))&&te(),R(),Ee(S,[a,s],[i])):Ee(S,[a,l],[i]),re.refresh(),he(c,"resize orientationchange",function(){var e=S.clientWidth,t=S.clientHeight;(t!==ze||e!==Ve)&&(ze=t,Ve=e,qe=!0)});var r=K();return function e(){U(),ve=r(e)}(),re}var S,n,E={get:function(){return re},init:function(e){return re||new t(e)},VERSION:"0.6.30"},A=Object.prototype.hasOwnProperty,k=c.Math,o=c.getComputedStyle,F="touchstart",C="touchmove",H="touchcancel",D="touchend",I="skrollable",P=I+"-before",N=I+"-between",O=I+"-after",a="skrollr",i="no-"+a,l=a+"-desktop",s=a+"-mobile",f="linear",u=.004,m="skrollr-body",p=200,d="center",g="bottom",V="___skrollable_id",z=/^(?:input|textarea|button|select)$/i,r=/^\s+|\s+$/g,q=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,v=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,h=/^(@?[a-z\-]+)\[(\w+)\]$/,L=/-([a-z0-9_])/g,M=function(e,t){return t.toUpperCase()},y=/[\-+]?[\d]*\.?[\d]+/g,T=/\{\?\}/g,b=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,$=/[a-z\-]+-gradient/g,B="",_="",G=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(o){var t=o(n,null);for(var r in t)if(B=r.match(e)||+r==r&&t[r].match(e))break;if(!B)return void(B=_="");"-"===(B=B[0]).slice(0,1)?B={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[_=B]:_="-"+B.toLowerCase()+"-"}},K=function(){var e=c.requestAnimationFrame||c[B.toLowerCase()+"RequestAnimationFrame"],n=Ce();return(Me||!e)&&(e=function(e){var t=Ce()-n,r=k.max(0,1e3/60-t);return c.setTimeout(function(){n=Ce(),e()},r)}),e},Y={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-k.cos(e*k.PI)/2+.5},sqrt:function(e){return k.sqrt(e)},outCubic:function(e){return k.pow(e-1,3)+1},bounce:function(e){var t;if(e<=.5083)t=3;else if(e<=.8489)t=9;else if(e<=.96208)t=27;else{if(!(e<=.99981))return 1;t=91}return 1-k.abs(3*k.cos(e*t*1.028)/t)}};t.prototype.refresh=function(e){var t,r,n=!1;for(e===x?(n=!0,ne=[],Le=0,e=w.getElementsByTagName("*")):e.length===x&&(e=[e]),t=0,r=e.length;t<r;t++){var o=e[t],a=o,i=[],l=fe,s=de,c=!1;if(n&&V in o&&delete o[V],o.attributes){for(var f=0,u=o.attributes.length;f<u;f++){var m=o.attributes[f];if("data-anchor-target"!==m.name)if("data-smooth-scrolling"!==m.name)if("data-edge-strategy"!==m.name)if("data-emit-events"!==m.name){var p=m.name.match(q);if(null!==p){var d={props:m.value,element:o,eventType:m.name.replace(L,M)};i.push(d);var g=p[1];g&&(d.constant=g.substr(1));var v=p[2];/p$/.test(v)?(d.isPercentage=!0,d.offset=(0|v.slice(0,-1))/100):d.offset=0|v;var h=p[3],y=p[4]||h;h&&"start"!==h&&"end"!==h?(d.mode="relative",d.anchors=[h,y]):(d.mode="absolute","end"===h?d.isEnd=!0:d.isPercentage||(d.offset=d.offset*Ie))}}else c=!0;else s=m.value;else l="off"!==m.value;else if(null===(a=w.querySelector(m.value)))throw'Unable to find anchor target "'+m.value+'"'}var T,b,S;if(i.length)b=!n&&V in o?(S=o[V],T=ne[S].styleAttr,ne[S].classAttr):(S=o[V]=Le++,T=o.style.cssText,xe(o)),ne[S]={element:o,styleAttr:T,classAttr:b,anchorTarget:a,keyFrames:i,smoothScrolling:l,edgeStrategy:s,emitEvents:c,lastFrameIndex:-1},Ee(o,[I],[])}}for(Se(),t=0,r=e.length;t<r;t++){var k=ne[e[t][V]];k!==x&&(X(k),W(k))}return re},t.prototype.relativeToAbsolute=function(e,t,r){var n=S.clientHeight,o=e.getBoundingClientRect(),a=o.top,i=o.bottom-o.top;return t===g?a-=n:t===d&&(a-=n/2),r===g?a+=i:r===d&&(a+=i/2),(a+=re.getScrollTop())+.5|0},t.prototype.animateTo=function(e,t){t=t||{};var r=Ce(),n=re.getScrollTop(),o=t.duration===x?1e3:t.duration;return(ce={startTop:n,topDiff:e-n,targetTop:e,duration:o,startTime:r,endTime:r+o,easing:Y[t.easing||f],done:t.done}).topDiff||(ce.done&&ce.done.call(re,!1),ce=x),re},t.prototype.stopAnimateTo=function(){ce&&ce.done&&ce.done.call(re,!0),ce=x},t.prototype.isAnimatingTo=function(){return!!ce},t.prototype.isMobile=function(){return Me},t.prototype.setScrollTop=function(e,t){return pe=!0===t,Me?$e=k.min(k.max(e,0),De):c.scrollTo(0,e),re},t.prototype.getScrollTop=function(){return Me?$e:c.pageYOffset||S.scrollTop||n.scrollTop||0},t.prototype.getMaxScrollTop=function(){return De},t.prototype.on=function(e,t){return ae[e]=t,re},t.prototype.off=function(e){return delete ae[e],re},t.prototype.destroy=function(){var e;(e=c.cancelAnimationFrame||c[B.toLowerCase()+"CancelAnimationFrame"],(Me||!e)&&(e=function(e){return c.clearTimeout(e)}),e)(ve),Te(),Ee(S,[i],[a,l,s]);for(var t=0,r=ne.length;t<r;t++)ee(ne[t].element);S.style.overflow=n.style.overflow="",S.style.height=n.style.height="",oe&&E.setStyle(oe,"transform","none"),Pe="down",Me=qe=!(Ne=-(Ie=1)),$e=Le=ze=Ve=De=0,ge=de=pe=me=ue=fe=ce=se=le=ie=ae=oe=re=x};var R=function(){var f,u,m,p,d,g,v,h,y,T,b;he(S,[F,C,H,D].join(" "),function(e){var t=e.changedTouches[0];for(p=e.target;3===p.nodeType;)p=p.parentNode;switch(d=t.clientY,g=t.clientX,y=e.timeStamp,z.test(p.tagName)||e.preventDefault(),e.type){case F:f&&f.blur(),re.stopAnimateTo(),f=p,u=v=d,m=g,y;break;case C:z.test(p.tagName)&&w.activeElement!==p&&e.preventDefault(),h=d-v,b=y-T,re.setScrollTop($e-h,!0),v=d,T=y;break;default:case H:case D:var r=u-d,n=m-g;if(n*n+r*r<49){if(!z.test(f.tagName)){f.focus();var o=w.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,e.view,1,t.screenX,t.screenY,t.clientX,t.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),f.dispatchEvent(o)}return}f=x;var a=h/b;a=k.max(k.min(a,3),-3);var i=k.abs(a/se),l=a*i+.5*se*i*i,s=re.getScrollTop()-l,c=0;De<s?(c=(De-s)/l,s=De):s<0&&(c=-s/l,s=0),i*=1-c,re.animateTo(s+.5|0,{easing:"outCubic",duration:i})}}),c.scrollTo(0,0),S.style.overflow=n.style.overflow="hidden"},U=function(){qe&&(qe=!1,Se());var e,t,r=re.getScrollTop(),n=Ce();if(ce)n>=ce.endTime?(r=ce.targetTop,e=ce.done,ce=x):(t=ce.easing((n-ce.startTime)/ce.duration),r=ce.startTop+t*ce.topDiff|0),re.setScrollTop(r,!0);else if(!pe){me.targetTop-r&&(me={startTop:Ne,topDiff:r-Ne,targetTop:r,startTime:Oe,endTime:Oe+ue}),n<=me.endTime&&(t=Y.sqrt((n-me.startTime)/ue),r=me.startTop+t*me.topDiff|0)}if(pe||Ne!==r){var o={curTop:r,lastTop:Ne,maxTop:De,direction:Pe=Ne<r?"down":r<Ne?"up":Pe};(pe=!1)!==(ae.beforerender&&ae.beforerender.call(re,o))&&(function(e,t){for(var r=0,n=ne.length;r<n;r++){var o,a,i=ne[r],l=i.element,s=i.smoothScrolling?e:t,c=i.keyFrames,f=c.length,u=c[0],m=c[c.length-1],p=s<u.frame,d=s>m.frame,g=p?u:m,v=i.emitEvents,h=i.lastFrameIndex;if(p||d){if(p&&-1===i.edge||d&&1===i.edge)continue;switch(p?(Ee(l,[P],[O,N]),v&&-1<h&&(be(l,u.eventType,Pe),i.lastFrameIndex=-1)):(Ee(l,[O],[P,N]),v&&h<f&&(be(l,m.eventType,Pe),i.lastFrameIndex=f)),i.edge=p?-1:1,i.edgeStrategy){case"reset":ee(l);continue;case"ease":s=g.frame;break;default:case"set":var y=g.props;for(o in y)A.call(y,o)&&(a=Q(y[o].value),0===o.indexOf("@")?l.setAttribute(o.substr(1),a):E.setStyle(l,o,a));continue}}else 0!==i.edge&&(Ee(l,[I,N],[P,O]),i.edge=0);for(var T=0;T<f-1;T++)if(s>=c[T].frame&&s<=c[T+1].frame){var b=c[T],S=c[T+1];for(o in b.props)if(A.call(b.props,o)){var k=(s-b.frame)/(S.frame-b.frame);k=b.props[o].easing(k),a=J(b.props[o].value,S.props[o].value,k),a=Q(a),0===o.indexOf("@")?l.setAttribute(o.substr(1),a):E.setStyle(l,o,a)}v&&h!==T&&(be(l,"down"===Pe?b.eventType:S.eventType,Pe),i.lastFrameIndex=T);break}}}(r,re.getScrollTop()),Me&&oe&&E.setStyle(oe,"transform","translate(0, "+-$e+"px) "+ge),Ne=r,ae.render&&ae.render.call(re,o)),e&&e.call(re,!1)}Oe=n},X=function(e){for(var t=0,r=e.keyFrames.length;t<r;t++){for(var n,o,a,i,l=e.keyFrames[t],s={};null!==(i=v.exec(l.props));)a=i[1],o=i[2],n=null!==(n=a.match(h))?(a=n[1],n[2]):f,o=o.indexOf("!")?j(o):[o.slice(1)],s[a]={value:o,easing:Y[n]};l.props=s}},j=function(e){var t=[];return b.lastIndex=0,e=e.replace(b,function(e){return e.replace(y,function(e){return e/255*100+"%"})}),_&&($.lastIndex=0,e=e.replace($,function(e){return _+e})),e=e.replace(y,function(e){return t.push(+e),"{?}"}),t.unshift(e),t},W=function(e){var t,r,n={};for(t=0,r=e.keyFrames.length;t<r;t++)Z(e.keyFrames[t],n);for(n={},t=e.keyFrames.length-1;0<=t;t--)Z(e.keyFrames[t],n)},Z=function(e,t){var r;for(r in t)A.call(e.props,r)||(e.props[r]=t[r]);for(r in e.props)t[r]=e.props[r]},J=function(e,t,r){var n,o=e.length;if(o!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';var a=[e[0]];for(n=1;n<o;n++)a[n]=e[n]+(t[n]-e[n])*r;return a},Q=function(e){var t=1;return T.lastIndex=0,e[0].replace(T,function(){return e[t++]})},ee=function(e,t){for(var r,n,o=0,a=(e=[].concat(e)).length;o<a;o++)n=e[o],(r=ne[n[V]])&&(t?(n.style.cssText=r.dirtyStyleAttr,Ee(n,r.dirtyClassAttr)):(r.dirtyStyleAttr=n.style.cssText,r.dirtyClassAttr=xe(n),n.style.cssText=r.styleAttr,Ee(n,r.classAttr)))},te=function(){ge="translateZ(0)",E.setStyle(oe,"transform",ge);var e=o(oe),t=e.getPropertyValue("transform"),r=e.getPropertyValue(_+"transform");t&&"none"!==t||r&&"none"!==r||(ge="")};E.setStyle=function(e,t,r){var n=e.style;if("zIndex"===(t=t.replace(L,M).replace("-","")))isNaN(r)?n[t]=r:n[t]=""+(0|r);else if("float"===t)n.styleFloat=n.cssFloat=r;else try{B&&(n[B+t.slice(0,1).toUpperCase()+t.slice(1)]=r),n[t]=r}catch(e){}};var re,ne,oe,ae,ie,le,se,ce,fe,ue,me,pe,de,ge,ve,he=E.addEvent=function(e,t,r){for(var n,o=function(e){return(e=e||c.event).target||(e.target=e.srcElement),e.preventDefault||(e.preventDefault=function(){e.returnValue=!1,e.defaultPrevented=!0}),r.call(this,e)},a=0,i=(t=t.split(" ")).length;a<i;a++)n=t[a],e.addEventListener?e.addEventListener(n,r,!1):e.attachEvent("on"+n,o),Be.push({element:e,name:n,listener:r})},ye=E.removeEvent=function(e,t,r){for(var n=0,o=(t=t.split(" ")).length;n<o;n++)e.removeEventListener?e.removeEventListener(t[n],r,!1):e.detachEvent("on"+t[n],r)},Te=function(){for(var e,t=0,r=Be.length;t<r;t++)e=Be[t],ye(e.element,e.name,e.listener);Be=[]},be=function(e,t,r){ae.keyframe&&ae.keyframe.call(re,e,t,r)},Se=function(){var e=re.getScrollTop();De=0,ie&&!Me&&(n.style.height=""),function(){var e,t,r,n,o,a,i,l,s,c,f,u=S.clientHeight,m=ke();for(l=0,s=ne.length;l<s;l++)for(t=(e=ne[l]).element,r=e.anchorTarget,o=0,a=(n=e.keyFrames).length;o<a;o++)c=(i=n[o]).offset,f=m[i.constant]||0,i.frame=c,i.isPercentage&&(c*=u,i.frame=c),"relative"===i.mode&&(ee(t),i.frame=re.relativeToAbsolute(r,i.anchors[0],i.anchors[1])-c,ee(t,!0)),i.frame+=f,ie&&!i.isEnd&&i.frame>De&&(De=i.frame);for(De=k.max(De,we()),l=0,s=ne.length;l<s;l++){for(o=0,a=(n=(e=ne[l]).keyFrames).length;o<a;o++)f=m[(i=n[o]).constant]||0,i.isEnd&&(i.frame=De-i.offset+f);e.keyFrames.sort(He)}}(),ie&&!Me&&(n.style.height=De+S.clientHeight+"px"),Me?re.setScrollTop(k.min(re.getScrollTop(),De)):re.setScrollTop(e,!0),pe=!0},ke=function(){var e,t,r=S.clientHeight,n={};for(e in le)"function"==typeof(t=le[e])?t=t.call(re):/p$/.test(t)&&(t=t.slice(0,-1)/100*r),n[e]=t;return n},we=function(){var e=0;return oe&&(e=k.max(oe.offsetHeight,oe.scrollHeight)),k.max(e,n.scrollHeight,n.offsetHeight,S.scrollHeight,S.offsetHeight,S.clientHeight)-S.clientHeight},xe=function(e){var t="className";return c.SVGElement&&e instanceof c.SVGElement&&(e=e[t],t="baseVal"),e[t]},Ee=function(e,t,r){var n="className";if(c.SVGElement&&e instanceof c.SVGElement&&(e=e[n],n="baseVal"),r!==x){for(var o=e[n],a=0,i=r.length;a<i;a++)o=Fe(o).replace(Fe(r[a])," ");o=Ae(o);for(var l=0,s=t.length;l<s;l++)-1===Fe(o).indexOf(Fe(t[l]))&&(o+=" "+t[l]);e[n]=Ae(o)}else e[n]=t},Ae=function(e){return e.replace(r,"")},Fe=function(e){return" "+e+" "},Ce=Date.now||function(){return+new Date},He=function(e,t){return e.frame-t.frame},De=0,Ie=1,Pe="down",Ne=-1,Oe=Ce(),Ve=0,ze=0,qe=!1,Le=0,Me=!1,$e=0,Be=[];"function"==typeof define&&define.amd?define([],function(){return E}):"undefined"!=typeof module&&module.exports?module.exports=E:c.skrollr=E}(window,document);