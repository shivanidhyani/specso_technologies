!function(p){"use strict";Berserk.behaviors.countodwn_init={attach:function(t,e){if(void 0===p.fn.countdown)return console.log("Waiting for the countdown library"),void setTimeout(Berserk.behaviors.countodwn_init.attach,e.timeout_delay,t,e);var a,n=new Date,r=n.getMonth()+1,o=n.getDate(),i=n.getFullYear(),s=12<n.getHours()?n.getHours()-12:n.getHours()<10?"0"+n.getHours():n.getHours(),d=n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes();28<=o&&r<=11&&(r=parseInt(r)+1,a=i+"/"+r+"/"+o+" "+s+":"+d),o<28&&(o=parseInt(o)+1,a=i+"/"+r+"/"+o+" "+s+":"+d),28<=o&&12===r&&(i=parseInt(i)+1,a=i+1+"/"+r+"/"+o+" "+s+":"+d);var c=p(t).parent().find(".countdown:not(.rendered)");c.length&&c.each(function(){var e=p(this),t=e.data("time"),n=e.data("format");t?e.countdown(t,function(t){e.html(t.strftime(n)),e.addClass("rendered")}):e.countdown(a,function(t){e.html(t.strftime(n)),e.addClass("rendered")})});var l=p(t).parent().find(".countdown__circle:not(.rendered)"),m="";l.length&&l.each(function(){requestAnimationFrame(function t(){m=768<p(window).width()?651:469;var e=parseInt(l.find(".sec").text()),n=l.find(".sec circle"),r=m-100*e/60*m/100;n.css({"stroke-dashoffset":r});var a=parseInt(l.find(".min").text()),o=l.find(".min circle"),i=m-100*a/60*m/100;o.css({"stroke-dashoffset":i});var s=parseInt(l.find(".hour").text()),d=l.find(".hour circle"),c=m-100*s/24*m/100;d.css({"stroke-dashoffset":c});var f=parseInt(l.find(".day").text()),u=l.find(".day circle"),h=m-100*f/365*m/100;u.css({"stroke-dashoffset":h}),requestAnimationFrame(t)}),p(this).addClass("rendered")});var f=p(t).parent().find(".countdown__flip:not(.rendered), .countdown__flip-2:not(.rendered)");f.length&&f.each(function(){var t,i=p(this),s=["Days","Hours","Minutes","Seconds"],n=_.template(i.data("format")),d="00:00:00:00",c="00:00:00:00",e=/([0-9]{2})/gi;t=i.data("time")?i.data("time"):a;var f=function(t){var n=t.match(e),r={};return s.forEach(function(t,e){r[t]=n[e]}),r},r=f(d);s.forEach(function(t,e){i.append(n({curr:r[t],next:r[t],label:t}))}),i.countdown(t,function(t){var r,e,n,a,o=t.strftime("%D:%H:%M:%S");o!==c&&(d=c,c=o,r={curr:f(d),next:f(c)},(e=r.curr,n=r.next,a=[],s.forEach(function(t){e[t]!==n[t]&&a.push(t)}),a).forEach(function(t){var e=".%s".replace(/%s/,t),n=i.find(e);n.removeClass("flip"),n.find(".curr").text(r.curr[t]),n.find(".next").text(r.next[t]),_.delay(function(t){t.addClass("flip")},50,n)}))}),p(this).addClass("rendered")})}}}(jQuery);