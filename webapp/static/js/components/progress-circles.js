!function(v){"use strict";Berserk.behaviors.progress_circles_init={attach:function(t,r){var g=v(window);function e(t,r){this.obj=t||{},this.options=r||{},this.type=this.options.type||"circle",this.val=this.options.val,this.doted=this.options.doted||!1,this.gradient=this.obj.data("color-end");var c=this,d=c.options.strokeWidth,n=c.options.radius,l=2*Math.PI*n,e="minimal"===c.type||"light"===c.type?(c.val-.1*c.val)/100:(c.val-d/2)/100,h=l*(1-e),p=c.options.color.end?c.options.color.end:c.options.color.start;this.render=function(){if("vertical"!==c.type){var t="",r="";this.gradient?t='<defs><linearGradient id="'+(r=Math.random())+'" x1="0" y1="1" x2="0" y2="0"><stop offset="0" stop-color="'+c.options.color.start+'"/><stop offset="1" stop-color="'+c.options.color.end+'"/></linearGradient></defs>':c.color=this.options.color.start;var e=this.gradient?'stroke="url(#'+r+')"/>':'stroke="'+c.color+'"/>',o=2*n,a=n-d/2,i=c.obj.parents(".chart-triangled").length?'style="border-top-color: '+c.options.color.start+'"':'style="background-color: '+p+'"',s='<div class="chart__svg-holder">'+(c.options.doted?'<div class="chart__circle-dot-wrapper"><span class="chart__circle-dot" '+i+" ></span></div>":"")+'<svg class="chart__svg" width="'+o+'" height="'+o+'" viewBox="0 0 '+o+" "+o+'" fill="none">'+t+'<circle class="chart__circle-meter" cx="'+n+'" cy="'+n+'" r="'+a+'" stroke-width="'+d+'" stroke="'+c.options.backStrokeColor+'"/><circle class="chart__circle-value" cx="'+n+'" cy="'+n+'" r="'+a+'" stroke-width="'+d+'"'+e+"</svg></div>";c.obj.append(s),c.obj.find(".chart__circle-value")[0].style.strokeDasharray=l,c.obj.find(".chart__circle-value")[0].style.strokeDashoffset=l}"vertical"===c.type&&c.obj.find(".chart__circle-counter-over").css("color",p),"circles"===c.type&&c.obj.find(".chart__circle-counter").css("background",p),"minimal"!==c.type&&"light"!==c.type&&"triangled"!==c.type||c.obj.find(".chart__circle-counter").css("color",p),"icon"===c.type&&c.obj.find(".icon").css("color",p),g.on("scroll",function(){c.obj.isOnScreen()&&(c.obj.hasClass("loaded")||(c.obj.addClass("loaded"),"vertical"!==c.type?(c.obj.find(".chart__circle-value")[0].style.strokeDashoffset=h,c.doted&&c.obj.find(".chart__circle-dot-wrapper").rotate(360*c.val/100+90)):(c.obj.find(".gradient").css({top:100-parseInt(c.val)+"%"}),c.obj.find(".gradient > .gradient-bg").css({top:-(100-parseInt(c.val))+"%"}).setGradientBackground({start:c.options.color.start,end:c.options.color.end}),c.obj.find(".gradient > span").css("top",parseInt(c.val)-50+"%")),c.obj.find(".chart__circle-counter .percents").each(function(){var r=v(this);r.hasClass("inited")||(r.prop("Counter",0).animate({Counter:c.val},{delay:0,duration:1e3,easing:"swing",step:function(t){r.text(Math.ceil(t))}}),r.addClass("inited"))})))}),this.gradient="",g.trigger("scroll")}}var o=v(".chart-minimal .chart__circle:not(.rendered)")||!1,a=v(".chart-light .chart__circle:not(.rendered)")||!1,i=v(".chart-triangled .chart__circle:not(.rendered)")||!1,s=v(".chart-vertical .chart__circle:not(.rendered)")||!1,c=v(".chart-2circles .chart__circle:not(.rendered)")||!1,d=v(".chart-icon .chart__circle:not(.rendered)")||!1;o.length&&o.each(function(){v(this).addClass("rendered"),new e(v(this),{val:v(this).data("valuenow"),radius:85,gradient:!1,color:{start:v(this).data("color"),end:v(this).data("color-end")||!1},strokeWidth:12,doted:!0,type:"minimal",backStrokeColor:v(this).data("color-back")||"rgba(0,0,0,.1)"}).render()}),a.length&&a.each(function(){v(this).addClass("rendered"),new e(v(this),{val:v(this).data("valuenow"),radius:65,gradient:!0,color:{start:v(this).data("color"),end:v(this).data("color-end")||!1},strokeWidth:12,doted:!0,type:"light",backStrokeColor:v(this).data("color-back")||"rgba(0,0,0,.1)"}).render()}),i.length&&i.each(function(){v(this).addClass("rendered"),new e(v(this),{val:v(this).data("valuenow"),radius:85,gradient:!1,color:{start:v(this).data("color"),end:v(this).data("color-end")||!1},strokeWidth:4,doted:"triangle",type:"triangled",backStrokeColor:v(this).data("color-back")||"rgba(0,0,0,.1)"}).render()}),s.length&&s.each(function(){v(this).addClass("rendered"),new e(v(this),{val:v(this).data("valuenow"),radius:65,gradient:!1,color:{start:v(this).data("color"),end:v(this).data("color-end")||!1},strokeWidth:4,doted:!1,type:"vertical",backStrokeColor:v(this).data("color-back")||"#e2ecff"}).render()}),c.length&&c.each(function(){v(this).addClass("rendered"),new e(v(this),{val:v(this).data("valuenow"),radius:65,gradient:!1,color:{start:v(this).data("color"),end:v(this).data("color-end")||!1},strokeWidth:4,doted:!1,type:"circles",backStrokeColor:v(this).data("color-back")||"#e2ecff"}).render()}),d.length&&d.each(function(){v(this).addClass("rendered"),new e(v(this),{val:v(this).data("valuenow"),radius:85,gradient:!0,color:{start:v(this).data("color"),end:v(this).data("color-end")||!1},strokeWidth:6,doted:!1,type:"icon",backStrokeColor:v(this).data("color-back")||"rgba(0,0,0,.1)"}).render()})}}}(jQuery);