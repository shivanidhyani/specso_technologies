!function(k){"use strict";Berserk.behaviors.google_maps={attach:function(e,t){if("undefined"==typeof google)return console.log("Waiting for the google library"),void setTimeout(Berserk.behaviors.google_maps.attach,t.timeout_delay,e,t);var v=[{featureType:"water",elementType:"geometry",stylers:[{color:"#e9e9e9"},{lightness:17}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:20}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]}],w=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]}],l=k(".brk-map:not(.rendered)",e).addClass("rendered");l.length&&l.each(function(e,t){var l=k(this),o=l.data("height"),s=l.find(".brk-map__opener"),r=l.find(".brk-map__canvas"),n="brk-map-"+e;r.css("height",o),s.length&&(l.css("height",100),s.on("click",function(){l.toggleClass("map-opened");var e=l.hasClass("map-opened")?o:100;l.css("height",e)})),r.attr("id",n);var i=r.data("address"),a=parseFloat(r.data("lat")),y=parseFloat(r.data("lng")),f=r.data("zoom"),g=r.data("type"),p=r.data("marker"),m=r.data("offset-lat"),c=r.data("offset-lng"),d=r.data("style"),h=r.data("info-window");f=f||14,g=g||"roadmap",m=m||0,c=c||0;var T="";function u(e,t){var l={zoom:f,center:{lat:e,lng:t},panControl:!1,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_CENTER},mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,mapTypeId:google.maps.MapTypeId[g],scrollwheel:!1,tilt:45,styles:T},o=new google.maps.Map(document.getElementById(n),l),s=new google.maps.Marker({position:{lat:e+m,lng:t+c},map:o,icon:p,title:i});if(void 0!==h&&""!==h){var r=String(h),a=new google.maps.InfoWindow({content:r,maxWidth:220});google.maps.event.addListener(s,"click",function(){a.open(o,s)})}}("silver"===d?T=v:"dark"===d&&(T=w),a||y)?u(a,y):(new google.maps.Geocoder).geocode({address:i},function(e,t){if(e)if(e[0]){var l=e[0].geometry.location.lat(),o=e[0].geometry.location.lng();"OK"===t?u(l,o):alert("Geocode was not successful for the following reason: "+t)}else alert("Google Maps wrong address!")})})}}}(jQuery);